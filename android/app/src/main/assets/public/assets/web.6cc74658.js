import{au as c,a1 as r,av as a,aw as o,ax as u,a0 as i,ay as l,az as h,aA as d}from"./vendor.ca63c97c.js";class I extends c{constructor(){super();r().onAuthStateChanged(e=>this.handleAuthStateChange(e))}async getCurrentUser(){const t=r();return{user:this.createUserResult(t.currentUser)}}async getIdToken(){var t;return{token:await((t=r().currentUser)===null||t===void 0?void 0:t.getIdToken())||""}}async setLanguageCode(t){const e=r();e.languageCode=t.languageCode}async signInWithApple(){const t=new a("apple.com"),e=r(),n=await o(e,t),s=a.credentialFromResult(n);return this.createSignInResult(n.user,s)}async signInWithFacebook(){const t=new u,e=r(),n=await o(e,t),s=u.credentialFromResult(n);return this.createSignInResult(n.user,s)}async signInWithGithub(){const t=new a("github.com"),e=r(),n=await o(e,t),s=a.credentialFromResult(n);return this.createSignInResult(n.user,s)}async signInWithGoogle(){const t=new i,e=r(),n=await o(e,t),s=i.credentialFromResult(n);return this.createSignInResult(n.user,s)}async signInWithMicrosoft(){const t=new a("microsoft.com"),e=r(),n=await o(e,t),s=a.credentialFromResult(n);return this.createSignInResult(n.user,s)}async signInWithPlayGames(){throw new Error("Not available on web.")}async signInWithTwitter(){const t=new a("twitter.com"),e=r(),n=await o(e,t),s=a.credentialFromResult(n);return this.createSignInResult(n.user,s)}async signInWithYahoo(){const t=new a("yahoo.com"),e=r(),n=await o(e,t),s=a.credentialFromResult(n);return this.createSignInResult(n.user,s)}async signInWithPhoneNumber(t){throw new Error("Not implemented on web.")}async signInWithCustomToken(t){const e=r(),n=await l(e,t.token);return this.createSignInResult(n.user,null)}async signOut(){await r().signOut()}async useAppLanguage(){r().useDeviceLanguage()}async useEmulator(t){const e=r(),n=t.port||9099;h(e,`${t.host}:${n}`)}handleAuthStateChange(t){const n={user:this.createUserResult(t)};this.notifyListeners("authStateChange",n)}createSignInResult(t,e){const n=this.createUserResult(t),s=this.createCredentialResult(e);return{user:n,credential:s}}createUserResult(t){return t?{displayName:t.displayName,email:t.email,emailVerified:t.emailVerified,isAnonymous:t.isAnonymous,phoneNumber:t.phoneNumber,photoUrl:t.photoURL,providerId:t.providerId,tenantId:t.tenantId,uid:t.uid}:null}createCredentialResult(t){if(!t)return null;const e={providerId:t.providerId};return t instanceof d&&(e.accessToken=t.accessToken,e.idToken=t.idToken,e.secret=t.secret),e}}export{I as FirebaseAuthenticationWeb};
